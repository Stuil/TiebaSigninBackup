# 每12小时执行一次

name: Start

on:  
  push:  
    branches:  
      - main  
  schedule:  
    - cron: '30 0,8,18 * * *'  
  
jobs:  
  build:  
    runs-on: ubuntu-latest  
    steps:  
      - name: Checkout code  
        uses: actions/checkout@v2  
      - name: Set timezone to China/Shanghai  
        uses: actions/set-timezone@v1  
        with:  
          timezone: 'Asia/Shanghai'  
      - name: Set up JDK 1.8  
        uses: actions/setup-java@v1  
        with:  
          java-version: 1.8  
      - name: Cache local Maven repository  
        uses: actions/cache@v2  
        with:  
          path: ~/.m2/repository  
          key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}  
          restore-keys: |  
            ${{ runner.os }}-maven-  
       - name: Build with Maven  
        env:  
          BDUSS: ${{ secrets.BDUSS }}  
          SCKEY: ${{ secrets.SCKEY }}  
        run: |  
          mvn compile exec:java -Dexec.mainClass="top.srcrs.Run" -Dexec.args="${BDUSS} ${SCKEY}"
